<!DOCTYPE html>
<html = style="height: 100%;">
  <head>
    <title>Merisyl Campaign Map</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" id="leaflet_js-js"></script>
<link rel="stylesheet" id="leaflet_stylesheet-css" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" media="">
<link rel="stylesheet" id="leaflet_stylesheet-css" href="https://unpkg.com/browse/leaflet.markercluster@1.4.1/dist/MarkerCluster.css" media="">
<link rel="stylesheet" id="leaflet_stylesheet-css" href="https://unpkg.com/browse/leaflet.markercluster@1.4.1/dist/MarkerCluster.Default.css" media="">
<script src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster-src.js"></script>

<!-- Leaflet.FeatureGroup.SubGroup assets. See https://github.com/ghybs/Leaflet.FeatureGroup.SubGroup -->
<script src="https://unpkg.com/leaflet.featuregroup.subgroup@1.0.2/dist/leaflet.featuregroup.subgroup.js"></script>

<!-- Leaflet fullscreen plugin.  See https://github.com/Leaflet/Leaflet.fullscreen -->
<script src='https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/Leaflet.fullscreen.min.js'></script>
<link href='https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/leaflet.fullscreen.css' rel='stylesheet' />

<script src='./tiledFantasyMap.js'></script>

<style>
path.leaflet-interactive:hover {
stroke-opacity: 1;
stroke-width: 1;
fill-opacity: .2;
}

.cluster {
width: 32px;
height: 32px;
line-height: 32px;
background-image: url('https://pathfinder-gm-tools.s3.amazonaws.com/map/MerisylMapClusterMarker.png');  /* AM: Edit this to point to a custom image for groups of locations, if desired */
text-align: center;
font-weight: bold;
color: white;
}
</style>
  </head>
  
  <body style="height: 100%;margin: 0;">
    <div id="map" style="width: 100%; height: 100%; background: #000000;"></div>
    <script type="text/javascript">
var mapDim = new MapDimensions();

/* Portions adapted from: https://github.com/bozdoz/wp-plugin-leaflet-map/ */


/* BASIC CUSTOMIZATIONS */
mapDim.referencesize = 6144;/* AM: Update this to be the height and width of your (presumably square) source map. */
mapDim.metersPerPixel = 10;  /* AM: Updated arbitrarily to make Silverbridge Lake about 10 km wide - This is the main control of your scale. Play with this to adjust the scale to your liking. This variable means "How many meters does one pixel on my map represent. It can be a fraction. */
mapDim.minzoom = 3/* AM: Added to match your tiling folders */
mapDim.maxzoom = 8/* AM: Added to match your tiling folders */

var mapLocation = "https://github.com/EdmundGelting/world-map/tree/main/map/{z}/{x}/{y}.png"; /* AM: Edited to point to your tile locations */
var locationsList = [
"https://github.com/EdmundGelting/world-map/tree/main/locations/Locations.json"/* AM: I took the locations from your index.html code and moved them into a JSON file. Feel free to start with this file, but you'll need to put it in a location you can access and update (and then update this line to point to that location. To me, this file-based approach is easier to maintain and update... */
];

var useCustomMarkerIcon = true;

// The keys in the map below should map to the "marker-group" property of the GeoJSON file in which locations are defined.
var customMarkers = {
"Default" : "https://github.com/EdmundGelting/world-map/blob/main/icons/cityDwarves.png",/* AM: Arbitrarily picked Dwarves as the default.  Edit as you please. */
"Dwarven City" : "https://github.com/EdmundGelting/world-map/blob/main/icons/cityDwarves.png",/* AM: Updated to point to your dwarven city icon for anyhing in the location file in the marker group "Dwarven City". */
"Druid City" : "https://github.com/EdmundGelting/world-map/blob/main/icons/cityDruid.png",/* AM: Updated to point to your dwarven city icon for anyhing in the location file in the marker group "Druid City". */
"Tundra City" : "https://github.com/EdmundGelting/world-map/blob/main/icons/cityHalflings.png"/* AM: Updated to point to your dwarven city icon for anyhing in the location file in the marker group "Druid City". */
}

var map = fantasyMap(mapLocation, mapDim, locationsList, useCustomMarkerIcon, customMarkers);

    </script>
  </body>
</html>